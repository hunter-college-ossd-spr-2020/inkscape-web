{% load i18n pagination_tags %}

<div id='errors'></div>

<div id="gallery">
 {% if user == request.user and gallery.id %}
  <div class="galleryitem">
    <div id="drop" class="link"><a href="{% url "new_resource" gallery.id %}"><img src="{{ STATIC_URL }}/images/add.svg" title="{% trans "Submit Resource" %}"/></a></div>
    <p><a href="{% url "new_resource" gallery.id %}">{% trans "Submit Resource" %}</a></p>
  </div>
  <script>
    registerDropZone('drop', 'gallery', '{% url "add_to_gallery" gallery.id %}', '{{ STATIC_URL }}'); 
  </script>
 {% else %}
  {% if not items %}
  <div class="galleryitem">
    <div class="link"><a><img src="{{ STATIC_URL }}/images/none.svg" title="{% trans "Nothing in this InkSpace" %}"/></a></div>
    <p><a>{% trans "Nothing Yet" %}</a></p>
  </div>
  {% endif %}
 {% endif %}
 {% if items %}
   {% autopaginate items limit as resources %}
   {% if query %}
     {% for result in resources %}
       {% with result.object as item %}
         {% include "resource/list-item.html" %}
       {% endwith %}
     {% endfor %}
   {% else %}
     {% for item in resources %}
       {% include "resource/list-item.html" %}
     {% endfor %}
   {% endif %}
 {% endif %}
</div>

{% paginate %}


