{% load i18n pagination_tags %}

<div id='errors'></div>

<div id="gallery">
 {% if username == request.user or team_member %}
   {% if galleries.id %}
     {% url "resource.upload" galleries.id as upload_url %}
     {% url "resource.drop" galleries.id as upload_drop %}
   {% else %}
     {% url "resource.upload" as upload_url %}
     {% url "resource.drop" as upload_drop %}
   {% endif %}
  <div class="galleryitem">
    <div id="drop" class="link"><a href="{{ upload_url }}"><img src="{{ STATIC_URL }}/images/add.svg" title="{% trans "Submit Resource" %}"/></a></div>
    <p><a href="{{ upload_url }}">{% trans "Submit Resource" %}</a></p>
  </div>
  <script>
    registerDropZone('drop', 'gallery', '{{ upload_drop }}', '{{ STATIC_URL }}'); 
  </script>
 {% elif not items and user == request.user %}
  <div class="galleryitem">
    <div class="link"><a><img src="{{ STATIC_URL }}/images/none.svg" title="{% trans "Nothing in this InkSpace" %}"/></a></div>
    <p><a>{% trans "Nothing Yet" %}</a></p>
  </div>
 {% endif %}
 {% if items %}
   {% autopaginate items limit as resources %}
   {% if query %}
     {% for result in resources %}
       {% with result.object as item %}
         {% include "resource/list-item.html" %}
       {% endwith %}
     {% endfor %}
   {% else %}
     {% for item in resources %}
       {% include "resource/list-item.html" %}
     {% endfor %}
   {% endif %}
 {% endif %}
</div>

{% paginate %}


