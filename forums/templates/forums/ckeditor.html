{% load i18n l10n %}

<script>
document.addEventListener("DOMContentLoaded", function(event) {
    if(django.jQuery) {
        $ = django.jQuery;
    }
    CKEDITOR.config.language = '{{ language }}';
    CKEDITOR.replace('{{ ckeditor_selector }}',
    {
        mentions: [{
            // https://ckeditor.com/docs/ckeditor4/latest/guide/dev_autocomplete.html#templating
            feed: $(document).data('usernames'),
            minChars: 0,
            itemTemplate: '<li data-id="{id}" class="issue-{type}">{name}</li>',
            outputTemplate: '<a href="~{name}">{name}</a> ',
        }]
    });
});
</script>
